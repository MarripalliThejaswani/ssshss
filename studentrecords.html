<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sri Sathya Sai Higher Secondary School</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        :root {
            --primary: #6a0dad;
            --secondary: #ff6b00;
            --accent: #ffd700;
            --light: #f8f9fa;
            --dark: #1a1a2e;
            --text: #333;
            --success: #28a745;
            --info: #17a2b8;
            --purple-light: #8a2be2;
            --purple-dark: #4b0082;
            --transition: all 0.3s ease;
            --notice: #ff9900;
            --error: #dc3545;
        }
        body {
            background: linear-gradient(135deg, #f9f3ff 0%, #f0e6ff 100%);
            color: var(--text);
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }
        /* Decorative background elements */
        .bg-element {
            position: absolute;
            z-index: -1;
            opacity: 0.08;
        }
        .bg-1 {
            top: 10%;
            left: 5%;
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, var(--purple-light), transparent);
            border-radius: 50%;
            animation: pulse 8s infinite ease-in-out;
        }
        .bg-2 {
            bottom: 15%;
            right: 8%;
            width: 200px;
            height: 200px;
            background: linear-gradient(45deg, var(--accent), transparent);
            transform: rotate(45deg);
            animation: rotate 25s infinite linear;
        }
        .bg-3 {
            top: 40%;
            left: 20%;
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, var(--purple-dark), transparent);
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            animation: morph 12s infinite ease-in-out;
        }
        /* Keyframes */
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.08; }
            50% { transform: scale(1.1); opacity: 0.15; }
        }
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes morph {
            0% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
            33% { border-radius: 58% 42% 75% 25% / 76% 46% 54% 24%; }
            66% { border-radius: 50% 50% 33% 67% / 55% 27% 73% 45%; }
            100% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Navigation Bar */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 5%;
            background: rgba(255, 255, 255, 0.97);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(12px);
            transition: all 0.4s ease;
        }
        nav.scrolled {
            padding: 1rem 5%;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
        }
        .logo {
            display: flex;
            align-items: center;
        }
        .logo h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--purple-light), var(--purple-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .logo span {
            color: var(--secondary);
            text-shadow: 0 2px 4px rgba(255, 107, 0, 0.2);
        }
        .nav-links {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }
        .nav-links li {
            position: relative;
        }
        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            font-size: 1.1rem;
            padding: 0.5rem 0.8rem;
            border-radius: 4px;
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-links a:hover {
            color: var(--purple-light);
        }
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--secondary);
            transition: width 0.3s ease;
        }
        .nav-links a:hover::after {
            width: 100%;
        }
        /* Login Dropdown */
        .dropdown {
            position: relative;
        }
        .dropdown-content {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            width: 220px;
            padding: 1rem 0;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.3s ease;
            z-index: 100;
        }
        .dropdown:hover .dropdown-content {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        .dropdown-content a {
            display: block;
            padding: 0.8rem 1.5rem;
            color: var(--dark);
            transition: all 0.2s ease;
        }
        .dropdown-content a:hover {
            background: rgba(106, 13, 173, 0.08);
            color: var(--purple-light);
            transform: translateX(5px);
        }
        .dropdown-content a i {
            margin-right: 10px;
            color: var(--purple-light);
        }
        .nav-btn {
            background: linear-gradient(135deg, var(--purple-light), var(--purple-dark));
            color: white;
            padding: 0.8rem 1.8rem;
            border-radius: 30px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(106, 13, 173, 0.4);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .nav-btn:hover {
            background: linear-gradient(135deg, var(--secondary), #e55a00);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 107, 0, 0.4);
        }
        .menu-toggle {
            display: none;
            font-size: 1.8rem;
            color: var(--purple-light);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .menu-toggle:hover {
            color: var(--secondary);
        }
        /* Important Notice Banner */
        .notice-banner {
            background: transparent;
            color: #000;
            padding: 12px 0;
            width: 100%;
            overflow: hidden;
            position: relative;
            box-shadow: none;
            z-index: 10;
            margin-top: 80px;
        }
        
        .notice-content {
            display: inline-block;
            white-space: nowrap;
            animation: scrollNotice 25s linear infinite;
            padding-right: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            color: #000;
        }
        
        .notice-content i {
            margin: 0 15px;
            color: #000;
            animation: pulseIcon 2s infinite;
        }
        
        @keyframes scrollNotice {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        @keyframes pulseIcon {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            padding: 0 5%;
            position: relative;
            overflow: hidden;
            margin-top: 80px;
        }
        .hero-content {
            max-width: 600px;
            z-index: 2;
            animation: fadeIn 1s ease-out;
        }
        .hero h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 3.8rem;
            font-weight: 900;
            line-height: 1.2;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--purple-light), var(--purple-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .hero h1 span {
            background: linear-gradient(135deg, var(--secondary), #e55a00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: inline-block;
        }
        .hero p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            color: var(--dark);
            line-height: 1.7;
            max-width: 90%;
        }
        .hero-btns {
            display: flex;
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .btn {
            padding: 1.1rem 2.2rem;
            border-radius: 15px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .primary-btn {
            background: linear-gradient(135deg, var(--purple-light), var(--purple-dark));
            color: white;
            box-shadow: 0 5px 20px rgba(106, 13, 173, 0.4);
        }
        .primary-btn:hover {
            background: linear-gradient(135deg, #7d2dd8, #5a1d9e);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 25px rgba(106, 13, 173, 0.5);
        }
        .secondary-btn {
            background: transparent;
            color: var(--purple-light);
            border: 2px solid var(--purple-light);
        }
        .secondary-btn:hover {
            background: rgba(106, 13, 173, 0.1);
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(106, 13, 173, 0.2);
        }
        /* 3D Slider */
        .slider-container {
            position: absolute;
            right: 5%;
            top: 50%;
            transform: translateY(-50%);
            width: 50%;
            max-width: 600px;
            height: 500px;
            perspective: 1500px;
        }
        .slider {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            animation: rotate 20s infinite linear;
        }
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            transition: transform 0.5s ease;
        }
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .slide:nth-child(1) {
            transform: rotateY(0deg) translateZ(400px);
        }
        .slide:nth-child(2) {
            transform: rotateY(90deg) translateZ(400px);
        }
        .slide:nth-child(3) {
            transform: rotateY(180deg) translateZ(400px);
        }
        .slide:nth-child(4) {
            transform: rotateY(270deg) translateZ(400px);
        }
        @keyframes rotate {
            0% {
                transform: rotateY(0deg);
            }
            100% {
                transform: rotateY(360deg);
            }
        }
        .elem-1 {
            top: 20%;
            left: 8%;
            width: 80px;
            height: 80px;
            background: var(--accent);
            border-radius: 50%;
            opacity: 0.7;
            animation: float 8s ease-in-out infinite;
        }
        .elem-2 {
            bottom: 25%;
            right: 12%;
            width: 60px;
            height: 60px;
            background: var(--secondary);
            border-radius: 50%;
            opacity: 0.6;
            animation: float 10s ease-in-out infinite 1s;
        }
        .elem-3 {
            top: 40%;
            right: 25%;
            width: 40px;
            height: 40px;
            background: var(--purple-light);
            border-radius: 50%;
            opacity: 0.5;
            animation: float 12s ease-in-out infinite 2s;
        }
        /* Admission Process Section */
        .admission-process {
            padding: 80px 5%;
            max-width: 1200px;
            margin: 0 auto;
        }
        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }
        .section-title h2 {
            font-size: 2.5rem;
            color: var(--primary);
            position: relative;
            display: inline-block;
        }
        .section-title h2::after {
            content: '';
            position: absolute;
            width: 50%;
            height: 4px;
            background: var(--accent);
            bottom: -10px;
            left: 25%;
            border-radius: 2px;
        }
        .process-steps {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            margin-bottom: 60px;
        }
        .process-card {
            flex: 1 1 300px;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
            max-width: 350px;
        }
        .process-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        .process-card .number {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            background: var(--accent);
            color: var(--dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        .process-card i {
            font-size: 3rem;
            color: var(--purple-light);
            margin-bottom: 20px;
        }
        .process-card h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }
        .process-card p {
            color: var(--text);
            line-height: 1.7;
        }
        /* Requirements Section */
        .requirements {
            background: var(--light);
            padding: 80px 5%;
            border-radius: 20px;
            margin-bottom: 80px;
        }
        .requirements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        .requirement-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }
        .requirement-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .requirement-card h3 {
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        .requirement-card h3 i {
            margin-right: 15px;
            color: var(--accent);
        }
        .requirement-card ul {
            list-style: none;
        }
        .requirement-card li {
            margin-bottom: 12px;
            padding-left: 30px;
            position: relative;
        }
        .requirement-card li::before {
            content: '•';
            position: absolute;
            left: 10px;
            color: var(--accent);
            font-weight: bold;
            font-size: 1.2rem;
        }
        /* Admission Form Section */
        .admission-form-section {
            background: white;
            padding: 80px 5%;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            max-width: 1000px;
            margin: 0 auto 80px;
        }
        .form-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        .form-header {
            grid-column: 1 / -1;
            text-align: center;
            margin-bottom: 30px;
        }
        .form-header h2 {
            color: var(--primary);
            margin-bottom: 15px;
        }
        .form-header p {
            color: var(--text);
        }
        .form-group {
            margin-bottom: 25px;
        }
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--purple-light);
            box-shadow: 0 0 0 3px rgba(106, 13, 173, 0.1);
        }
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        .form-btn {
            background: linear-gradient(135deg, var(--purple-light), var(--purple-dark));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            grid-column: 1 / -1;
            justify-self: center;
            width: 200px;
        }
        .form-btn:hover {
            background: linear-gradient(135deg, #7d2dd8, #5a1d9e);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(106, 13, 173, 0.3);
        }
        /* Student Records Section */
        .student-records {
            padding: 80px 5%;
            max-width: 1200px;
            margin: 0 auto;
        }
        .admin-panel {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-top: 40px;
        }
        .admin-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        .search-box {
            flex: 1;
            max-width: 400px;
            position: relative;
        }
        .search-box input {
            padding-left: 40px;
        }
        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
        }
        .admin-actions {
            display: flex;
            gap: 10px;
        }
        .admin-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .export-btn {
            background: var(--success);
            color: white;
        }
        .export-btn:hover {
            background: #218838;
        }
        .clear-btn {
            background: #dc3545;
            color: white;
        }
        .clear-btn:hover {
            background: #c82333;
        }
        .records-table-container {
            overflow-x: auto;
        }
        .records-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .records-table th, .records-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        .records-table th {
            background-color: var(--primary);
            color: white;
            position: sticky;
            top: 0;
        }
        .records-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .records-table tr:hover {
            background-color: #e9ecef;
        }
        .action-btns {
            display: flex;
            gap: 8px;
        }
        .action-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .edit-btn {
            background-color: #17a2b8;
            color: white;
        }
        .edit-btn:hover {
            background-color: #138496;
        }
        .delete-btn {
            background-color: #dc3545;
            color: white;
        }
        .delete-btn:hover {
            background-color: #c82333;
        }
        .no-records {
            text-align: center;
            padding: 30px;
            color: #6c757d;
            font-style: italic;
        }
        /* Attendance Section */
        .attendance-section {
            padding: 80px 5%;
            max-width: 1200px;
            margin: 0 auto;
        }
        .attendance-panel {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-top: 40px;
        }
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        .panel-header h2 {
            color: var(--primary);
            margin: 0;
        }
        .filter-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .filter-group select {
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #ddd;
            font-size: 0.95rem;
            min-width: 150px;
        }
        .student-selector {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .student-selector select {
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 1rem;
            min-width: 250px;
        }
        .attendance-form {
            background: var(--light);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        .form-group {
            flex: 1;
            min-width: 200px;
        }
        .attendance-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-top: 20px;
        }
        .calendar-header {
            text-align: center;
            font-weight: bold;
            padding: 10px;
            background: var(--primary);
            color: white;
            border-radius: 5px;
        }
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .calendar-day:hover {
            background: var(--light);
        }
        .calendar-day.present {
            background: var(--success);
            color: white;
        }
        .calendar-day.absent {
            background: #dc3545;
            color: white;
        }
        .calendar-day.late {
            background: var(--accent);
            color: var(--dark);
        }
        .attendance-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        /* Marks Section */
        .marks-section {
            padding: 80px 5%;
            max-width: 1200px;
            margin: 0 auto;
        }
        .marks-panel {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-top: 40px;
        }
        .marks-form {
            background: var(--light);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .marks-table-container {
            overflow-x: auto;
        }
        .marks-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .marks-table th, .marks-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        .marks-table th {
            background-color: var(--primary);
            color: white;
            position: sticky;
            top: 0;
        }
        .marks-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        .marks-table tr:hover {
            background-color: #e9ecef;
        }
        .grade-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            color: white;
        }
        .grade-a {
            background-color: var(--success);
        }
        .grade-b {
            background-color: #17a2b8;
        }
        .grade-c {
            background-color: var(--accent);
            color: var(--dark);
        }
        .grade-d {
            background-color: #fd7e14;
        }
        .grade-f {
            background-color: #dc3545;
        }
        .performance-chart {
            margin-top: 30px;
            height: 300px;
            position: relative;
        }
        .chart-bar {
            position: absolute;
            bottom: 0;
            width: 40px;
            background: linear-gradient(to top, var(--purple-light), var(--purple-dark));
            border-radius: 5px 5px 0 0;
            transition: height 0.5s ease;
        }
        .chart-label {
            position: absolute;
            bottom: -30px;
            width: 100%;
            text-align: center;
            font-size: 0.9rem;
        }
        .chart-value {
            position: absolute;
            top: -25px;
            width: 100%;
            text-align: center;
            font-weight: bold;
        }
        .no-data {
            text-align: center;
            padding: 30px;
            color: #6c757d;
            font-style: italic;
        }
        /* FAQ Section */
        .faq-section {
            padding: 80px 5%;
            max-width: 1000px;
            margin: 0 auto;
        }
        .faq-item {
            background: white;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }
        .faq-question {
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            font-weight: 600;
            color: var(--dark);
            transition: var(--transition);
        }
        .faq-question:hover {
            color: var(--purple-light);
        }
        .faq-question i {
            transition: var(--transition);
        }
        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }
        .faq-answer {
            padding: 0 25px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .faq-item.active .faq-answer {
            padding: 0 25px 20px;
            max-height: 500px;
        }
        /* CTA Section */
        .admission-cta {
            background: linear-gradient(135deg, var(--primary) 0%, var(--purple-dark) 100%);
            padding: 80px 5%;
            border-radius: 15px;
            color: white;
            text-align: center;
            margin: 60px auto;
            max-width: 1200px;
        }
        .admission-cta h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        .admission-cta p {
            max-width: 700px;
            margin: 0 auto 30px;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        .cta-btn {
            display: inline-block;
            background: white;
            color: var(--primary);
            padding: 15px 35px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }
        .cta-btn.outline {
            background: transparent;
            color: white;
            border: 2px solid white;
        }
        .cta-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        .cta-btn.outline:hover {
            background: white;
            color: var(--primary);
        }
        /* Dashboard Styles */
        #dashboard {
            display: none;
            padding: 6rem 5%;
            min-height: 100vh;
            background: #f8f9fa;
        }
        
        .dashboard-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .dashboard-header h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--purple-light), var(--purple-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }
        
        .dashboard-header p {
            color: #666;
            font-size: 1.2rem;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .dashboard-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
        }
        
        .dashboard-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--purple-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dashboard-card h3 i {
            color: var(--secondary);
        }
        
        .student-info {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, rgba(106, 13, 173, 0.05), rgba(138, 43, 226, 0.1));
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .student-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--purple-light), var(--purple-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            font-weight: bold;
        }
        
        .student-details h4 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .student-details p {
            color: #666;
            margin-bottom: 0.3rem;
        }
        
        .attendance-summary {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }
        
        .attendance-item {
            text-align: center;
            padding: 1rem;
            border-radius: 15px;
            flex: 1;
            margin: 0 0.5rem;
        }
        
        .present {
            background: rgba(40, 167, 69, 0.1);
            border: 2px solid rgba(40, 167, 69, 0.3);
        }
        
        .absent {
            background: rgba(220, 53, 69, 0.1);
            border: 2px solid rgba(220, 53, 69, 0.3);
        }
        
        .attendance-item h4 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        
        .attendance-item .number {
            font-size: 2rem;
            font-weight: 700;
        }
        
        .present .number {
            color: #28a745;
        }
        
        .absent .number {
            color: #dc3545;
        }
        
        .chart-container {
            height: 300px;
            margin-top: 1.5rem;
        }
        
        .performance-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }
        
        .performance-table th {
            background: var(--purple-light);
            color: white;
            text-align: left;
            padding: 1rem;
        }
        
        .performance-table td {
            padding: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .performance-table tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        .performance-table .subject {
            font-weight: 600;
        }
        
        .performance-table .grade {
            font-weight: 700;
            color: var(--purple-light);
        }
        
        .logout-btn {
            display: block;
            width: 200px;
            margin: 3rem auto 0;
            background: var(--secondary);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .logout-btn:hover {
            background: #e55a00;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 107, 0, 0.4);
        }
        
        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 4rem 5% 2rem;
            text-align: center;
            position: relative;
            border-top: 3px solid var(--purple-light);
        }
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        .footer-logo {
            font-size: 2.5rem;
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, white, #e6e6e6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .footer-logo span {
            background: linear-gradient(135deg, var(--accent), #ffcc00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .footer-links {
            display: flex;
            justify-content: center;
            list-style: none;
            margin: 2rem 0;
            flex-wrap: wrap;
            gap: 1.5rem;
        }
        .footer-links a {
            color: #ddd;
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        .footer-links a:hover {
            color: var(--accent);
        }
        .social-icons {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin: 2.5rem 0;
        }
        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            font-size: 1.3rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .social-icons a:hover {
            background: var(--purple-light);
            transform: translateY(-7px) scale(1.1);
            box-shadow: 0 5px 15px rgba(106, 13, 173, 0.4);
        }
        .copyright {
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #aaa;
            font-size: 0.9rem;
        }
        
        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: translateY(-50px);
            transition: transform 0.3s ease;
        }
        .modal-overlay.active .modal {
            transform: translateY(0);
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .modal-header h2 {
            color: var(--primary);
        }
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6c757d;
            transition: var(--transition);
        }
        .close-modal:hover {
            color: var(--secondary);
        }
        .modal-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .modal-form .form-group {
            margin-bottom: 15px;
        }
        .modal-form .form-group.full-width {
            grid-column: 1 / -1;
        }
        .modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 20px;
            grid-column: 1 / -1;
        }
        .modal-btn {
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        .cancel-btn {
            background: #6c757d;
            color: white;
            border: none;
        }
        .cancel-btn:hover {
            background: #5a6268;
        }
        .save-btn {
            background: var(--success);
            color: white;
            border: none;
        }
        .save-btn:hover {
            background: #218838;
        }
        
        /* Login Modal */
        .login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }
        .login-modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            animation: modalIn 0.4s ease-out;
        }
        @keyframes modalIn {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .login-modal-header {
            background: linear-gradient(135deg, var(--purple-light), var(--purple-dark));
            padding: 1.5rem 2rem;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .login-modal-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
        }
        .login-modal-body {
            padding: 2rem;
        }
        .login-tabs {
            display: flex;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
        }
        .login-tab-btn {
            padding: 0.8rem 1.5rem;
            background: none;
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            color: #999;
            cursor: pointer;
            position: relative;
        }
        .login-tab-btn.active {
            color: var(--purple-light);
        }
        .login-tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--purple-light);
        }
        .login-tab-content {
            display: none;
        }
        .login-tab-content.active {
            display: block;
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .form-container, .modal-form {
                grid-template-columns: 1fr;
            }
            .hero h1 {
                font-size: 2.8rem;
            }
            .slider-container {
                display: none;
            }
            .hero-content {
                max-width: 100%;
                text-align: center;
            }
            .hero-btns {
                justify-content: center;
            }
        }
        @media (max-width: 768px) {
            nav {
                padding: 1rem 5%;
            }
            .nav-links {
                display: none;
            }
            .hero h1 {
                font-size: 2.2rem;
            }
            .section-title h2 {
                font-size: 2rem;
            }
            .records-table th, .records-table td {
                padding: 10px;
                font-size: 0.9rem;
            }
            .action-btns {
                flex-direction: column;
            }
            .admin-controls {
                flex-direction: column;
            }
            .search-box {
                max-width: 100%;
            }
            .attendance-calendar {
                grid-template-columns: repeat(7, 1fr);
                font-size: 0.8rem;
            }
            .calendar-day {
                min-height: 40px;
            }
            .form-row {
                flex-direction: column;
            }
            .panel-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .filter-controls {
                flex-direction: column;
                width: 100%;
            }
            .filter-group {
                width: 100%;
            }
            .filter-group select {
                width: 100%;
            }
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            .student-info {
                flex-direction: column;
                text-align: center;
            }
            .attendance-summary {
                flex-direction: column;
                gap: 1rem;
            }
            .attendance-item {
                margin: 0;
            }
        }
        
        /* Success and Error Messages */
        .success-message, .error-message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
            font-weight: 500;
        }
        
        .success-message {
            background: var(--success);
            color: white;
        }
        
        .error-message {
            background: var(--error);
            color: white;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
    </style>
</head>
<body>
    <!-- Decorative Background Elements -->
    <div class="bg-element bg-1"></div>
    <div class="bg-element bg-2"></div>
    <div class="bg-element bg-3"></div>
    
    <!-- Navigation Bar -->
    <nav id="navbar">
        <div class="logo">
            <h1>Sri Sathya <span>Sai Higher Secondary School</span></h1>
        </div>
        
        <ul class="nav-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#admission-form">Admissions</a></li>
            <li><a href="#records">Student Records</a></li>
            <li class="dropdown">
                <a href="#">Login <i class="fas fa-chevron-down"></i></a>
                <div class="dropdown-content">
                    <a href="#" class="login-option" data-type="parent"><i class="fas fa-user-friends"></i> Parent Login</a>
                    <a href="#" class="login-option" data-type="student"><i class="fas fa-user-graduate"></i> Student Login</a>
                    <a href="#" class="login-option" data-type="admin"><i class="fas fa-user-shield"></i> Admin Login</a>
                </div>
            </li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        
        <a href="#admission-form" class="nav-btn"><i class="fas fa-pencil-alt"></i> Apply Now</a>
        <div class="menu-toggle">
            <i class="fas fa-bars"></i>
        </div>
    </nav>
    
    <!-- Important Notice Banner -->
    <section class="notice-banner">
        <div class="notice-content">
            <i class="fas fa-exclamation-circle"></i>
            Important Notice: Dear Parents/Guardians, Uniforms and books 📦 delivery ETA is minimum 15 working days from the date of purchase. 
            If not received by then, please 📞 contact the school branch. Thank you!
            <i class="fas fa-exclamation-circle"></i>
        </div>
    </section>
    
    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Education for <span>Character Building</span> & Excellence</h1>
            <p>Sri Sathya Sai Higher Secondary School provides value-based education that fosters academic excellence, character development, and spiritual growth in a nurturing environment.</p>
            <div class="hero-btns">
                <a href="#admission-form" class="btn primary-btn"><i class="fas fa-download"></i> Download Brochure</a>
                <a href="#" class="btn secondary-btn"><i class="fas fa-video"></i> Virtual Tour</a>
            </div>
        </div>
        
        <!-- 3D Image Slider -->
        <div class="slider-container">
            <div class="slider">
                <div class="slide">
                    <img src="https://plus.unsplash.com/premium_photo-1663091704223-cc051e0f0c47?w=1400&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjV8fHNjaG9vbCUyMHN0dWRlbnQlMjBpbWFnZXMlMjA0a3xlbnwwfHwwfHx8MA%3D%3D" alt="School Building">
                </div>
                <div class="slide">
                    <img src="https://images.unsplash.com/photo-1543269865-cbf427effbad?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Students in Classroom">
                </div>
                <div class="slide">
                    <img src="https://plus.unsplash.com/premium_photo-1681297117877-00d5ee51c156?w=1400&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fHNjaG9vbCUyMHN0dWRlbnQlMjBpbWFnZXMlMjA0a3xlbnwwfHwwfHx8MA%3D%3D" alt="School Laboratory">
                </div>
                <div class="slide">
                    <img src="https://cdn01.dailycaller.com/wp-content/uploads/2018/11/school-1.jpg" alt="Sports Activities">
                </div>
            </div>
        </div>
    </section>
    
    <!-- Admission Process Section -->
    <section class="admission-process" id="about">
        <div class="section-title">
            <h2>Admission Process</h2>
            <p>Simple steps to join our institution</p>
        </div>
        
        <div class="process-steps">
            <!-- Step 1 -->
            <div class="process-card">
                <div class="number">1</div>
                <i class="fas fa-file-alt"></i>
                <h3>Application Submission</h3>
                <p>Complete the online application form with all required details and documents</p>
            </div>
            
            <!-- Step 2 -->
            <div class="process-card">
                <div class="number">2</div>
                <i class="fas fa-calendar-check"></i>
                <h3>Entrance Test</h3>
                <p>Appear for our assessment test (for certain grades) to evaluate academic readiness</p>
            </div>
            
            <!-- Step 3 -->
            <div class="process-card">
                <div class="number">3</div>
                <i class="fas fa-handshake"></i>
                <h3>Interview</h3>
                <p>Participate in an interaction session with our faculty and principal</p>
            </div>
            
            <!-- Step 4 -->
            <div class="process-card">
                <div class="number">4</div>
                <i class="fas fa-envelope-open-text"></i>
                <h3>Admission Offer</h3>
                <p>Receive admission decision and complete enrollment formalities</p>
            </div>
        </div>
    </section>
    
    <!-- Requirements Section -->
    <section class="requirements">
        <div class="section-title">
            <h2>Admission Requirements</h2>
            <p>Documents and criteria needed for enrollment</p>
        </div>
        
        <div class="requirements-grid">
            <!-- Requirement 1 -->
            <div class="requirement-card">
                <h3><i class="fas fa-file-certificate"></i> Academic Records</h3>
                <ul>
                    <li>Previous year's report card</li>
                    <li>Transfer Certificate (if applicable)</li>
                    <li>Birth Certificate</li>
                    <li>Aadhar Card copy</li>
                </ul>
            </div>
            
            <!-- Requirement 2 -->
            <div class="requirement-card">
                <h3><i class="fas fa-user-friends"></i> Personal Details</h3>
                <ul>
                    <li>Passport size photographs (4 copies)</li>
                    <li>Medical fitness certificate</li>
                    <li>Parent/Guardian ID proof</li>
                    <li>Address proof</li>
                </ul>
            </div>
            
            <!-- Requirement 3 -->
            <div class="requirement-card">
                <h3><i class="fas fa-check-circle"></i> Eligibility Criteria</h3>
                <ul>
                    <li>Minimum age requirements as per grade</li>
                    <li>Satisfactory performance in entrance test</li>
                    <li>Alignment with school values and philosophy</li>
                    <li>Completion of all required documentation</li>
                </ul>
            </div>
        </div>
    </section>
    
    <!-- Admission Form Section -->
    <section class="admission-form-section" id="admission-form">
        <div class="form-container">
            <div class="form-header">
                <h2>Admission Application Form</h2>
                <p>Fill out the form below to begin your application process</p>
            </div>
            
            <!-- Student Information -->
            <div class="form-group">
                <label for="student-name">Student Full Name*</label>
                <input type="text" id="student-name" name="student-name" required>
            </div>
            
            <div class="form-group">
                <label for="dob">Date of Birth*</label>
                <input type="date" id="dob" name="dob" required>
            </div>
            
            <div class="form-group">
                <label for="gender">Gender*</label>
                <select id="gender" name="gender" required>
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="grade">Grade Applying For*</label>
                <select id="grade" name="grade" required>
                    <option value="">Select Grade</option>
                    <option value="1">Grade 1</option>
                    <option value="2">Grade 2</option>
                    <option value="3">Grade 3</option>
                    <option value="4">Grade 4</option>
                    <option value="5">Grade 5</option>
                    <option value="6">Grade 6</option>
                    <option value="7">Grade 7</option>
                    <option value="8">Grade 8</option>
                    <option value="9">Grade 9</option>
                    <option value="10">Grade 10</option>
                    <option value="11">Grade 11</option>
                    <option value="12">Grade 12</option>
                </select>
            </div>
            
            <!-- New fields: Section and Class -->
            <div class="form-row">
                <div class="form-group">
                    <label for="section">Section*</label>
                    <select id="section" name="section" required>
                        <option value="">Select Section</option>
                        <option value="A">Section A</option>
                        <option value="B">Section B</option>
                        <option value="C">Section C</option>
                        <option value="D">Section D</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="class">Class*</label>
                    <select id="class" name="class" required>
                        <option value="">Select Class</option>
                        <option value="1">Class 1</option>
                        <option value="2">Class 2</option>
                        <option value="3">Class 3</option>
                        <option value="4">Class 4</option>
                        <option value="5">Class 5</option>
                        <option value="6">Class 6</option>
                        <option value="7">Class 7</option>
                        <option value="8">Class 8</option>
                        <option value="9">Class 9</option>
                        <option value="10">Class 10</option>
                    </select>
                </div>
            </div>
            
            <!-- Parent Information -->
            <div class="form-group">
                <label for="father-name">Father's Name*</label>
                <input type="text" id="father-name" name="father-name" required>
            </div>
            
            <div class="form-group">
                <label for="mother-name">Mother's Name*</label>
                <input type="text" id="mother-name" name="mother-name" required>
            </div>
            
            <div class="form-group">
                <label for="parent-email">Parent Email*</label>
                <input type="email" id="parent-email" name="parent-email" required>
            </div>
            
            <div class="form-group">
                <label for="parent-phone">Parent Phone*</label>
                <input type="tel" id="parent-phone" name="parent-phone" required>
            </div>
            
            <!-- Address Information -->
            <div class="form-group full-width">
                <label for="address">Current Address*</label>
                <textarea id="address" name="address" required></textarea>
            </div>
            
            <div class="form-group">
                <label for="city">City*</label>
                <input type="text" id="city" name="city" required>
            </div>
            
            <div class="form-group">
                <label for="state">State*</label>
                <input type="text" id="state" name="state" required>
            </div>
            
            <div class="form-group">
                <label for="pincode">Pincode*</label>
                <input type="text" id="pincode" name="pincode" required>
            </div>
            
            <!-- Additional Information -->
            <div class="form-group full-width">
                <label for="previous-school">Previous School (if any)</label>
                <input type="text" id="previous-school" name="previous-school">
            </div>
            
            <div class="form-group full-width">
                <label for="reason">Why do you want to join our school?*</label>
                <textarea id="reason" name="reason" required></textarea>
            </div>
            
            <!-- Submit Button -->
            <button type="submit" class="form-btn" id="submit-application">Submit Application</button>
        </div>
    </section>
    
    <!-- Student Records Section -->
    <section class="student-records" id="records">
        <div class="section-title">
            <h2>Student Records Management</h2>
            <p>View, edit, and manage student applications</p>
        </div>
        
        <div class="admin-panel">
            <div class="admin-controls">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="Search by name, grade or contact...">
                </div>
                <div class="admin-actions">
                    <button class="admin-btn export-btn" id="export-btn">
                        <i class="fas fa-file-export"></i> Export Data
                    </button>
                    <button class="admin-btn clear-btn" id="clear-btn">
                        <i class="fas fa-trash-alt"></i> Clear All
                    </button>
                </div>
            </div>
            
            <div class="records-table-container">
                <table class="records-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Student Name</th>
                            <th>Grade</th>
                            <th>Section</th>
                            <th>Class</th>
                            <th>DOB</th>
                            <th>Parent Phone</th>
                            <th>Date Applied</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="records-body">
                        <!-- Records will be populated here -->
                    </tbody>
                </table>
                <div class="no-records" id="no-records">No student records found. Submit an application to get started.</div>
            </div>
        </div>
    </section>
    
    <!-- Attendance Section -->
    <section class="attendance-section" id="attendance">
        <div class="section-title">
            <h2>Student Attendance</h2>
            <p>Track and manage student attendance</p>
        </div>
        
        <div class="attendance-panel">
            <div class="panel-header">
                <h2>Attendance Management</h2>
                <div class="filter-controls">
                    <div class="filter-group">
                        <label for="attendance-class-filter">Class:</label>
                        <select id="attendance-class-filter">
                            <option value="">All Classes</option>
                            <option value="1">Class 1</option>
                            <option value="2">Class 2</option>
                            <option value="3">Class 3</option>
                            <option value="4">Class 4</option>
                            <option value="5">Class 5</option>
                            <option value="6">Class 6</option>
                            <option value="7">Class 7</option>
                            <option value="8">Class 8</option>
                            <option value="9">Class 9</option>
                            <option value="10">Class 10</option>
                        </select>
                    </div>
                    <div class="student-selector">
                        <label for="attendance-student">Select Student:</label>
                        <select id="attendance-student">
                            <option value="">-- Select Student --</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="attendance-form">
                <h3>Mark Attendance</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="attendance-date">Date</label>
                        <input type="date" id="attendance-date">
                    </div>
                    <div class="form-group">
                        <label for="attendance-status">Status</label>
                        <select id="attendance-status">
                            <option value="present">Present</option>
                            <option value="absent">Absent</option>
                            <option value="late">Late</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>&nbsp;</label>
                        <button class="admin-btn export-btn" id="mark-attendance-btn">Mark Attendance</button>
                    </div>
                </div>
            </div>
            
            <div id="attendance-calendar-container">
                <div class="no-data">Select a student to view attendance calendar</div>
            </div>
            
            <div class="attendance-legend">
                <div class="legend-item">
                    <div class="legend-color" style="background-color: var(--success);"></div>
                    <span>Present</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: #dc3545;"></div>
                    <span>Absent</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background-color: var(--accent);"></div>
                    <span>Late</span>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Marks Section -->
    <section class="marks-section" id="marks">
        <div class="section-title">
            <h2>Subject-wise Marks</h2>
            <p>Manage and track student academic performance</p>
        </div>
        
        <div class="marks-panel">
            <div class="panel-header">
                <h2>Marks Management</h2>
                <div class="filter-controls">
                    <div class="filter-group">
                        <label for="marks-class-filter">Class:</label>
                        <select id="marks-class-filter">
                            <option value="">All Classes</option>
                            <option value="1">Class 1</option>
                            <option value="2">Class 2</option>
                            <option value="3">Class 3</option>
                            <option value="4">Class 4</option>
                            <option value="5">Class 5</option>
                            <option value="6">Class 6</option>
                            <option value="7">Class 7</option>
                            <option value="8">Class 8</option>
                            <option value="9">Class 9</option>
                            <option value="10">Class 10</option>
                        </select>
                    </div>
                    <div class="student-selector">
                        <label for="marks-student">Select Student:</label>
                        <select id="marks-student">
                            <option value="">-- Select Student --</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="marks-form">
                <h3>Add Marks</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="subject">Subject</label>
                        <select id="subject">
                            <option value="English">English</option>
                            <option value="Mathematics">Mathematics</option>
                            <option value="Science">Science</option>
                            <option value="Social Studies">Social Studies</option>
                            <option value="Language">Language</option>
                            <option value="Computer Science">Computer Science</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="exam-type">Exam Type</label>
                        <select id="exam-type">
                            <option value="Unit Test">Unit Test</option>
                            <option value="Midterm">Midterm</option>
                            <option value="Final">Final</option>
                            <option value="Assignment">Assignment</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="marks-obtained">Marks Obtained</label>
                        <input type="number" id="marks-obtained" min="0">
                    </div>
                    <div class="form-group">
                        <label for="max-marks">Maximum Marks</label>
                        <input type="number" id="max-marks" min="1" value="100">
                    </div>
                    <div class="form-group">
                        <label>&nbsp;</label>
                        <button class="admin-btn export-btn" id="add-marks-btn">Add Marks</button>
                    </div>
                </div>
            </div>
            
            <div id="marks-table-container">
                <div class="no-data">Select a student to view marks</div>
            </div>
            
            <div id="performance-chart-container">
                <div class="no-data">Select a student to view performance chart</div>
            </div>
        </div>
    </section>
    
    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="section-title">
            <h2>Frequently Asked Questions</h2>
            <p>Find answers to common admission queries</p>
        </div>
        
        <!-- FAQ Item 1 -->
        <div class="faq-item">
            <div class="faq-question">
                <span>What is the admission age criteria for Grade 1?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                <p>The child should have completed 5 years 6 months as on 1st June of the academic year for admission to Grade 1. For other grades, the age criteria follows accordingly.</p>
            </div>
        </div>
        
        <!-- FAQ Item 2 -->
        <div class="faq-item">
            <div class="faq-question">
                <span>Is there an entrance test for all grades?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                <p>Entrance tests are conducted for admission to Grades 2 and above. The test assesses basic language and mathematical skills appropriate for the grade level.</p>
            </div>
        </div>
        
        <!-- FAQ Item 3 -->
        <div class="faq-item">
            <div class="faq-question">
                <span>What is the school's fee structure?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                <p>Our fee structure is designed to be affordable while maintaining high educational standards. It includes tuition fees, activity charges, and meal plans (for hostel students). Detailed fee structure is provided during the admission process.</p>
            </div>
        </div>
        
        <!-- FAQ Item 4 -->
        <div class="faq-item">
            <div class="faq-question">
                <span>Do you offer scholarships or financial aid?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                <p>Yes, we offer merit-based scholarships and need-based financial assistance to deserving students. Please inquire during the admission process for eligibility criteria and application details.</p>
            </div>
        </div>
        
        <!-- FAQ Item 5 -->
        <div class="faq-item">
            <div class="faq-question">
                <span>What are the school timings?</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="faq-answer">
                <p>Regular school hours are from 8:30 AM to 3:30 PM, Monday through Friday. Saturday sessions (if any) are typically half-days with special activities.</p>
            </div>
        </div>
    </section>
    
    <!-- CTA Section -->
    <section class="admission-cta">
        <h2>Ready to Join Our Community?</h2>
        <p>Take the first step towards a transformative educational experience that combines academic excellence with spiritual growth and character development</p>
        <div class="cta-buttons">
            <a href="#admission-form" class="cta-btn">Apply Now</a>
            <a href="#contact" class="cta-btn outline">Contact Us</a>
        </div>
    </section>
    
    <!-- Dashboard Section -->
    <section id="dashboard">
        <div class="dashboard-header">
            <h2>Student Dashboard</h2>
            <p>Welcome to your personalized academic portal</p>
        </div>
        
        <div class="student-info" id="student-info">
            <div class="student-avatar" id="studentAvatar">JD</div>
            <div class="student-details">
                <h4 id="dashboardStudentName">John Doe</h4>
                <p id="dashboardStudentClass">Class: 10th Standard, Section A</p>
                <p id="studentAdmission">Admission No: SSS20231001</p>
                <p id="studentRoll">Roll No: 25</p>
            </div>
        </div>
        
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3><i class="fas fa-calendar-check"></i> Attendance Summary</h3>
                <div class="attendance-summary">
                    <div class="attendance-item present">
                        <h4>Present</h4>
                        <div class="number" id="presentCount">85%</div>
                        <p id="presentDays">128 days</p>
                    </div>
                    <div class="attendance-item absent">
                        <h4>Absent</h4>
                        <div class="number" id="absentCount">15%</div>
                        <p id="absentDays">22 days</p>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="attendanceChart"></canvas>
                </div>
            </div>
            
            <div class="dashboard-card">
                <h3><i class="fas fa-chart-line"></i> Academic Performance</h3>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="dashboard-card">
            <h3><i class="fas fa-book"></i> Subject-wise Marks</h3>
            <table class="performance-table">
                <thead>
                    <tr>
                        <th>Subject</th>
                        <th>Term 1</th>
                        <th>Term 2</th>
                        <th>Term 3</th>
                        <th>Overall</th>
                        <th>Grade</th>
                    </tr>
                </thead>
                <tbody id="marksTableBody">
                    <!-- Marks will be populated here -->
                </tbody>
            </table>
        </div>
        
        <button class="logout-btn" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Logout</button>
    </section>
    
    <!-- Footer -->
    <footer id="contact">
        <div class="footer-content">
            <div class="footer-logo">Sri Sathya <span>Sai</span></div>
            <p>Higher Secondary School - Nurturing Future Leaders with Values</p>
            
            <ul class="footer-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About Us</a></li>
                <li><a href="#admission-form">Admissions</a></li>
                <li><a href="#records">Student Records</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
            
            <div class="copyright">
                &copy; 2023 Sri Sathya Sai Higher Secondary School. All Rights Reserved.
            </div>
        </div>
    </footer>
    
    <!-- Edit Modal -->
    <div class="modal-overlay" id="edit-modal">
        <div class="modal">
            <div class="modal-header">
                <h2>Edit Student Record</h2>
                <button class="close-modal" id="close-edit-modal">&times;</button>
            </div>
            <form id="edit-form">
                <input type="hidden" id="edit-id">
                <div class="modal-form">
                    <div class="form-group">
                        <label for="edit-student-name">Student Full Name*</label>
                        <input type="text" id="edit-student-name" name="student-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-dob">Date of Birth*</label>
                        <input type="date" id="edit-dob" name="dob" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-gender">Gender*</label>
                        <select id="edit-gender" name="gender" required>
                            <option value="">Select Gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-grade">Grade Applying For*</label>
                        <select id="edit-grade" name="grade" required>
                            <option value="">Select Grade</option>
                            <option value="1">Grade 1</option>
                            <option value="2">Grade 2</option>
                            <option value="3">Grade 3</option>
                            <option value="4">Grade 4</option>
                            <option value="5">Grade 5</option>
                            <option value="6">Grade 6</option>
                            <option value="7">Grade 7</option>
                            <option value="8">Grade 8</option>
                            <option value="9">Grade 9</option>
                            <option value="10">Grade 10</option>
                            <option value="11">Grade 11</option>
                            <option value="12">Grade 12</option>
                        </select>
                    </div>
                    
                    <!-- New fields: Section and Class -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-section">Section*</label>
                            <select id="edit-section" name="section" required>
                                <option value="">Select Section</option>
                                <option value="A">Section A</option>
                                <option value="B">Section B</option>
                                <option value="C">Section C</option>
                                <option value="D">Section D</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-class">Class*</label>
                            <select id="edit-class" name="class" required>
                                <option value="">Select Class</option>
                                <option value="1">Class 1</option>
                                <option value="2">Class 2</option>
                                <option value="3">Class 3</option>
                                <option value="4">Class 4</option>
                                <option value="5">Class 5</option>
                                <option value="6">Class 6</option>
                                <option value="7">Class 7</option>
                                <option value="8">Class 8</option>
                                <option value="9">Class 9</option>
                                <option value="10">Class 10</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-father-name">Father's Name*</label>
                        <input type="text" id="edit-father-name" name="father-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-mother-name">Mother's Name*</label>
                        <input type="text" id="edit-mother-name" name="mother-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-parent-email">Parent Email*</label>
                        <input type="email" id="edit-parent-email" name="parent-email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-parent-phone">Parent Phone*</label>
                        <input type="tel" id="edit-parent-phone" name="parent-phone" required>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="edit-address">Current Address*</label>
                        <textarea id="edit-address" name="address" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-city">City*</label>
                        <input type="text" id="edit-city" name="city" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-state">State*</label>
                        <input type="text" id="edit-state" name="state" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-pincode">Pincode*</label>
                        <input type="text" id="edit-pincode" name="pincode" required>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="edit-previous-school">Previous School (if any)</label>
                        <input type="text" id="edit-previous-school" name="previous-school">
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="edit-reason">Why do you want to join our school?*</label>
                        <textarea id="edit-reason" name="reason" required></textarea>
                    </div>
                    
                    <div class="modal-buttons">
                        <button type="button" class="modal-btn cancel-btn" id="cancel-edit">Cancel</button>
                        <button type="submit" class="modal-btn save-btn">Save Changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Login Modal -->
    <div class="login-modal" id="loginModal">
        <div class="login-modal-content">
            <div class="login-modal-header">
                <h3 id="modalTitle">Login</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="login-modal-body">
                <div class="login-tabs">
                    <button class="login-tab-btn active" data-tab="student">Student</button>
                    <button class="login-tab-btn" data-tab="parent">Parent</button>
                    <button class="login-tab-btn" data-tab="admin">Admin</button>
                </div>
                
                <div class="login-tab-content active" id="student-tab">
                    <form id="studentForm">
                        <div class="form-group">
                            <label for="studentName">Student Name</label>
                            <input type="text" id="studentName" placeholder="Enter your full name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="studentClass">Class / Standard</label>
                            <select id="studentClass" required>
                                <option value="">Select your class</option>
                                <option value="1">1st Standard</option>
                                <option value="2">2nd Standard</option>
                                <option value="3">3rd Standard</option>
                                <option value="4">4th Standard</option>
                                <option value="5">5th Standard</option>
                                <option value="6">6th Standard</option>
                                <option value="7">7th Standard</option>
                                <option value="8">8th Standard</option>
                                <option value="9">9th Standard</option>
                                <option value="10">10th Standard</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="studentDOB">Date of Birth</label>
                            <input type="date" id="studentDOB" required>
                        </div>
                        
                        <button type="submit" class="submit-btn">Login</button>
                    </form>
                </div>
                
                <div class="login-tab-content" id="parent-tab">
                    <form id="parentForm">
                        <div class="form-group">
                            <label for="parentName">Parent Name</label>
                            <input type="text" id="parentName" placeholder="Enter your full name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="relationship">Relationship to Student</label>
                            <select id="relationship" required>
                                <option value="">Select relationship</option>
                                <option value="father">Father</option>
                                <option value="mother">Mother</option>
                                <option value="guardian">Guardian</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="childName">Student Name</label>
                            <input type="text" id="childName" placeholder="Enter student's full name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="childClass">Student's Class & Section</label>
                            <div style="display: flex; gap: 10px;">
                                <select id="childClass" style="flex: 1;" required>
                                    <option value="">Select class</option>
                                    <option value="1">1st</option>
                                    <option value="2">2nd</option>
                                    <option value="3">3rd</option>
                                    <option value="4">4th</option>
                                    <option value="5">5th</option>
                                    <option value="6">6th</option>
                                    <option value="7">7th</option>
                                    <option value="8">8th</option>
                                    <option value="9">9th</option>
                                    <option value="10">10th</option>
                                </select>
                                <select id="childSection" style="flex: 1;" required>
                                    <option value="">Section</option>
                                    <option value="A">A</option>
                                    <option value="B">B</option>
                                    <option value="C">C</option>
                                    <option value="D">D</option>
                                </select>
                            </div>
                        </div>
                        
                        <button type="submit" class="submit-btn">Login</button>
                    </form>
                </div>
                
                <div class="login-tab-content" id="admin-tab">
                    <form id="adminForm">
                        <div class="form-group">
                            <label for="adminUsername">Username</label>
                            <input type="text" id="adminUsername" placeholder="Enter admin username" required>
                        </div>
                        <div class="form-group">
                            <label for="adminPassword">Password</label>
                            <input type="password" id="adminPassword" placeholder="Enter password" required>
                        </div>
                        <button type="submit" class="submit-btn">Login</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Data storage and management
        const STORAGE_KEY = 'studentRecords';
        
        // Get records from localStorage
        function getRecords() {
            const records = localStorage.getItem(STORAGE_KEY);
            return records ? JSON.parse(records) : [];
        }
        
        // Save records to localStorage
        function saveRecords(records) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(records));
        }
        
        // Function to check for duplicate records
        function isDuplicateRecord(record, excludeId = null) {
            const records = getRecords();
            return records.some(r => {
                // Skip the record being edited (if excludeId is provided and matches)
                if (excludeId && r.id === excludeId) return false;
                return r.studentName.toLowerCase() === record.studentName.toLowerCase() &&
                       r.dob === record.dob &&
                       r.class === record.class;
            });
        }
        
        // Add a new record with duplicate check
        function addRecord(record) {
            // Check for duplicates
            if (isDuplicateRecord(record)) {
                return { success: false, message: "A record with the same student name, date of birth, and class already exists." };
            }
            
            const records = getRecords();
            // Generate unique ID
            record.id = Date.now().toString();
            record.dateApplied = new Date().toISOString().split('T')[0];
            // Initialize attendance and marks arrays
            record.attendance = [];
            record.marks = [];
            records.push(record);
            saveRecords(records);
            return { success: true, message: "Record added successfully." };
        }
        
        // Update a record with duplicate check
        function updateRecord(updatedRecord) {
            // Check for duplicates (excluding the current record)
            if (isDuplicateRecord(updatedRecord, updatedRecord.id)) {
                return { success: false, message: "A record with the same student name, date of birth, and class already exists." };
            }
            
            const records = getRecords();
            const index = records.findIndex(r => r.id === updatedRecord.id);
            if (index !== -1) {
                records[index] = updatedRecord;
                saveRecords(records);
                return { success: true, message: "Record updated successfully." };
            }
            return { success: false, message: "Record not found." };
        }
        
        // Delete a record
        function deleteRecord(id) {
            const records = getRecords().filter(r => r.id !== id);
            saveRecords(records);
        }
        
        // Clear all records
        function clearAllRecords() {
            if (confirm('Are you sure you want to delete ALL student records? This cannot be undone.')) {
                localStorage.removeItem(STORAGE_KEY);
                return true;
            }
            return false;
        }
        
        // Render records in table
        function renderRecords(records = null) {
            const tableBody = document.getElementById('records-body');
            const noRecords = document.getElementById('no-records');
            
            if (!records) {
                records = getRecords();
            }
            
            tableBody.innerHTML = '';
            
            if (records.length === 0) {
                noRecords.style.display = 'block';
                return;
            }
            
            noRecords.style.display = 'none';
            
            records.forEach(record => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${record.id.substring(0, 6)}</td>
                    <td>${record.studentName}</td>
                    <td>Grade ${record.grade}</td>
                    <td>Section ${record.section}</td>
                    <td>Class ${record.class}</td>
                    <td>${record.dob}</td>
                    <td>${record.parentPhone}</td>
                    <td>${record.dateApplied}</td>
                    <td>
                        <div class="action-btns">
                            <button class="action-btn edit-btn" data-id="${record.id}">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="action-btn delete-btn" data-id="${record.id}">
                                <i class="fas fa-trash-alt"></i> Delete
                            </button>
                        </div>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Update student selectors
            populateStudentSelectors();
        }
        
        // Populate student selectors based on class filter
        function populateStudentSelectors() {
            const records = getRecords();
            const attendanceSelect = document.getElementById('attendance-student');
            const marksSelect = document.getElementById('marks-student');
            const attendanceClassFilter = document.getElementById('attendance-class-filter').value;
            const marksClassFilter = document.getElementById('marks-class-filter').value;
            
            // Clear existing options except the first one
            attendanceSelect.innerHTML = '<option value="">-- Select Student --</option>';
            marksSelect.innerHTML = '<option value="">-- Select Student --</option>';
            
            // Filter records based on class selection
            const attendanceRecords = attendanceClassFilter ? 
                records.filter(r => r.class === attendanceClassFilter) : records;
            const marksRecords = marksClassFilter ? 
                records.filter(r => r.class === marksClassFilter) : records;
            
            // Populate attendance student selector
            attendanceRecords.forEach(record => {
                const option = `<option value="${record.id}">${record.studentName} (Grade ${record.grade}, Section ${record.section})</option>`;
                attendanceSelect.innerHTML += option;
            });
            
            // Populate marks student selector
            marksRecords.forEach(record => {
                const option = `<option value="${record.id}">${record.studentName} (Grade ${record.grade}, Section ${record.section})</option>`;
                marksSelect.innerHTML += option;
            });
        }
        
        // Populate edit form
        function populateEditForm(id) {
            const records = getRecords();
            const record = records.find(r => r.id === id);
            
            if (record) {
                document.getElementById('edit-id').value = record.id;
                document.getElementById('edit-student-name').value = record.studentName;
                document.getElementById('edit-dob').value = record.dob;
                document.getElementById('edit-gender').value = record.gender;
                document.getElementById('edit-grade').value = record.grade;
                document.getElementById('edit-section').value = record.section;
                document.getElementById('edit-class').value = record.class;
                document.getElementById('edit-father-name').value = record.fatherName;
                document.getElementById('edit-mother-name').value = record.motherName;
                document.getElementById('edit-parent-email').value = record.parentEmail;
                document.getElementById('edit-parent-phone').value = record.parentPhone;
                document.getElementById('edit-address').value = record.address;
                document.getElementById('edit-city').value = record.city;
                document.getElementById('edit-state').value = record.state;
                document.getElementById('edit-pincode').value = record.pincode;
                document.getElementById('edit-previous-school').value = record.previousSchool || '';
                document.getElementById('edit-reason').value = record.reason;
                
                document.getElementById('edit-modal').classList.add('active');
            }
        }
        
        // Search records
        function searchRecords(query) {
            const records = getRecords();
            if (!query) {
                renderRecords(records);
                return;
            }
            
            const lowerQuery = query.toLowerCase();
            const filtered = records.filter(record => 
                record.studentName.toLowerCase().includes(lowerQuery) ||
                record.grade.toLowerCase().includes(lowerQuery) ||
                record.section.toLowerCase().includes(lowerQuery) ||
                record.class.toLowerCase().includes(lowerQuery) ||
                record.parentPhone.includes(lowerQuery) ||
                record.dateApplied.includes(lowerQuery) ||
                record.id.includes(lowerQuery)
            );
            
            renderRecords(filtered);
        }
        
        // Export records as CSV
        function exportRecords() {
            const records = getRecords();
            if (records.length === 0) {
                alert('No records to export');
                return;
            }
            
            // Create CSV content
            let csvContent = 'ID,Student Name,Date of Birth,Gender,Grade,Section,Class,Father Name,Mother Name,Parent Email,Parent Phone,Address,City,State,Pincode,Previous School,Reason,Date Applied\n';
            
            records.forEach(record => {
                const row = [
                    record.id,
                    `"${record.studentName}"`,
                    record.dob,
                    record.gender,
                    record.grade,
                    record.section,
                    record.class,
                    `"${record.fatherName}"`,
                    `"${record.motherName}"`,
                    record.parentEmail,
                    record.parentPhone,
                    `"${record.address}"`,
                    record.city,
                    record.state,
                    record.pincode,
                    `"${record.previousSchool || ''}"`,
                    `"${record.reason}"`,
                    record.dateApplied
                ];
                
                csvContent += row.join(',') + '\n';
            });
            
            // Create download link
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', `student_records_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
        
        // Attendance functions
        function addAttendanceRecord(studentId, date, status) {
            const records = getRecords();
            const studentIndex = records.findIndex(r => r.id === studentId);
            
            if (studentIndex === -1) {
                alert('Student not found');
                return false;
            }
            
            // Initialize if not present
            if (!records[studentIndex].attendance) {
                records[studentIndex].attendance = [];
            }
            
            // Check if attendance for this date already exists
            const existingIndex = records[studentIndex].attendance.findIndex(a => a.date === date);
            
            if (existingIndex !== -1) {
                // Update existing record
                records[studentIndex].attendance[existingIndex].status = status;
            } else {
                // Add new record
                records[studentIndex].attendance.push({ date, status });
            }
            
            saveRecords(records);
            return true;
        }
        
        function renderAttendanceCalendar(studentId) {
            const records = getRecords();
            const student = records.find(r => r.id === studentId);
            
            if (!student || !student.attendance || student.attendance.length === 0) {
                document.getElementById('attendance-calendar-container').innerHTML = 
                    '<div class="no-data">No attendance records found for this student</div>';
                return;
            }
            
            // Create a map of attendance by date
            const attendanceMap = {};
            student.attendance.forEach(record => {
                attendanceMap[record.date] = record.status;
            });
            
            // Generate calendar for current month
            const now = new Date();
            const year = now.getFullYear();
            const month = now.getMonth();
            
            // First day of month
            const firstDay = new Date(year, month, 1);
            // Last day of month
            const lastDay = new Date(year, month + 1, 0);
            
            // Start from the first day of the week that the month starts on
            const startDay = firstDay.getDay();
            
            let html = '<div class="attendance-calendar">';
            
            // Add day headers
            const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayNames.forEach(day => {
                html += `<div class="calendar-header">${day}</div>`;
            });
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < startDay; i++) {
                html += '<div class="calendar-day"></div>';
            }
            
            // Add cells for each day of the month
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const status = attendanceMap[dateStr] || '';
                
                html += `<div class="calendar-day ${status}">${day}</div>`;
            }
            
            html += '</div>';
            document.getElementById('attendance-calendar-container').innerHTML = html;
        }
        
        // Marks functions
        function addMarksRecord(studentId, subject, examType, marksObtained, maxMarks) {
            const records = getRecords();
            const studentIndex = records.findIndex(r => r.id === studentId);
            
            if (studentIndex === -1) {
                alert('Student not found');
                return false;
            }
            
            // Initialize if not present
            if (!records[studentIndex].marks) {
                records[studentIndex].marks = [];
            }
            
            // Add new record
            records[studentIndex].marks.push({
                subject,
                examType,
                marksObtained: parseInt(marksObtained),
                maxMarks: parseInt(maxMarks),
                dateAdded: new Date().toISOString().split('T')[0]
            });
            
            saveRecords(records);
            return true;
        }
        
        function calculateGrade(percentage) {
            if (percentage >= 90) return { grade: 'A', class: 'grade-a' };
            if (percentage >= 80) return { grade: 'B', class: 'grade-b' };
            if (percentage >= 70) return { grade: 'C', class: 'grade-c' };
            if (percentage >= 60) return { grade: 'D', class: 'grade-d' };
            return { grade: 'F', class: 'grade-f' };
        }
        
        function renderMarksTable(studentId) {
            const records = getRecords();
            const student = records.find(r => r.id === studentId);
            
            if (!student || !student.marks || student.marks.length === 0) {
                document.getElementById('marks-table-container').innerHTML = 
                    '<div class="no-data">No marks records found for this student</div>';
                document.getElementById('performance-chart-container').innerHTML = 
                    '<div class="no-data">No marks records found for this student</div>';
                return;
            }
            
            // Group marks by subject
            const subjectMarks = {};
            student.marks.forEach(record => {
                if (!subjectMarks[record.subject]) {
                    subjectMarks[record.subject] = [];
                }
                subjectMarks[record.subject].push(record);
            });
            
            // Create table
            let html = '<div class="marks-table-container"><table class="marks-table">';
            html += '<thead><tr><th>Subject</th><th>Exam Type</th><th>Marks Obtained</th><th>Max Marks</th><th>Percentage</th><th>Grade</th></tr></thead><tbody>';
            
            for (const subject in subjectMarks) {
                subjectMarks[subject].forEach(record => {
                    const percentage = (record.marksObtained / record.maxMarks * 100).toFixed(2);
                    const gradeInfo = calculateGrade(parseFloat(percentage));
                    
                    html += `<tr>
                        <td>${subject}</td>
                        <td>${record.examType}</td>
                        <td>${record.marksObtained}</td>
                        <td>${record.maxMarks}</td>
                        <td>${percentage}%</td>
                        <td><span class="grade-badge ${gradeInfo.class}">${gradeInfo.grade}</span></td>
                    </tr>`;
                });
            }
            
            html += '</tbody></table></div>';
            document.getElementById('marks-table-container').innerHTML = html;
            
            // Render performance chart
            renderPerformanceChart(subjectMarks);
        }
        
        function renderPerformanceChart(subjectMarks) {
            // Calculate average percentage for each subject
            const subjectAverages = {};
            
            for (const subject in subjectMarks) {
                let totalPercentage = 0;
                let count = 0;
                
                subjectMarks[subject].forEach(record => {
                    totalPercentage += (record.marksObtained / record.maxMarks * 100);
                    count++;
                });
                
                subjectAverages[subject] = totalPercentage / count;
            }
            
            // Create chart
            const subjects = Object.keys(subjectAverages);
            if (subjects.length === 0) {
                document.getElementById('performance-chart-container').innerHTML = 
                    '<div class="no-data">No marks records found for this student</div>';
                return;
            }
            
            const maxPercentage = Math.max(...Object.values(subjectAverages));
            const chartHeight = 250;
            
            let html = '<div class="performance-chart">';
            
            subjects.forEach((subject, index) => {
                const percentage = subjectAverages[subject];
                const barHeight = (percentage / maxPercentage) * chartHeight;
                const leftPosition = (index * 80) + 40;
                
                html += `
                    <div class="chart-bar" style="height: ${barHeight}px; left: ${leftPosition}px;">
                        <div class="chart-value">${percentage.toFixed(1)}%</div>
                    </div>
                    <div class="chart-label" style="left: ${leftPosition}px;">${subject.substring(0, 3)}</div>
                `;
            });
            
            html += '</div>';
            document.getElementById('performance-chart-container').innerHTML = html;
        }
        
        // Function to get student records from localStorage
        function getStudentRecords() {
            const records = localStorage.getItem('studentRecords');
            return records ? JSON.parse(records) : [];
        }
        
        // Function to find a student by name and class
        function findStudentRecord(name, studentClass, section = null) {
            const records = getStudentRecords();
            return records.find(record => {
                const nameMatch = record.studentName.toLowerCase() === name.toLowerCase();
                const classMatch = record.class === studentClass;
                const sectionMatch = section ? record.section === section : true;
                return nameMatch && classMatch && sectionMatch;
            });
        }
        
        // Function to calculate grade
        function calculateGradeForMarks(marks) {
            if (marks === '-') return '-';
            if (marks >= 90) return 'A1';
            if (marks >= 80) return 'A2';
            if (marks >= 70) return 'B1';
            if (marks >= 60) return 'B2';
            if (marks >= 50) return 'C1';
            if (marks >= 40) return 'C2';
            return 'D';
        }
        
        // Function to display student details
        function displayStudentDetails(studentRecord) {
            // Check if details section exists, create if not
            let detailsSection = document.getElementById('studentDetailsSection');
            if (!detailsSection) {
                detailsSection = document.createElement('div');
                detailsSection.id = 'studentDetailsSection';
                detailsSection.className = 'dashboard-card';
                detailsSection.innerHTML = `
                    <h3><i class="fas fa-user"></i> Personal Details</h3>
                    <div id="studentDetailsContent"></div>
                `;
                
                // Insert at the beginning of dashboard grid
                const dashboardGrid = document.querySelector('.dashboard-grid');
                if (dashboardGrid) {
                    dashboardGrid.insertBefore(detailsSection, dashboardGrid.firstChild);
                }
            }
            
            // Populate student details
            const detailsContent = document.getElementById('studentDetailsContent');
            if (detailsContent) {
                detailsContent.innerHTML = `
                    <p><strong>Full Name:</strong> ${studentRecord.studentName}</p>
                    <p><strong>Date of Birth:</strong> ${studentRecord.dob}</p>
                    <p><strong>Gender:</strong> ${studentRecord.gender}</p>
                    <p><strong>Class:</strong> ${studentRecord.class} Standard</p>
                    <p><strong>Section:</strong> ${studentRecord.section}</p>
                    <p><strong>Father's Name:</strong> ${studentRecord.fatherName}</p>
                    <p><strong>Mother's Name:</strong> ${studentRecord.motherName}</p>
                    <p><strong>Parent's Email:</strong> ${studentRecord.parentEmail}</p>
                    <p><strong>Parent's Phone:</strong> ${studentRecord.parentPhone}</p>
                    <p><strong>Address:</strong> ${studentRecord.address}, ${studentRecord.city}, ${studentRecord.state} - ${studentRecord.pincode}</p>
                `;
            }
        }
        
        // Function to update dashboard with student data
        function updateDashboard(studentRecord) {
            // Update student info
            const studentName = studentRecord.studentName;
            const initials = studentName.split(' ').map(n => n[0]).join('').toUpperCase();
            
            document.getElementById('studentAvatar').textContent = initials;
            document.getElementById('dashboardStudentName').textContent = studentName;
            document.getElementById('dashboardStudentClass').textContent = `Class: ${studentRecord.class}th Standard, Section ${studentRecord.section}`;
            
            // Display student details
            displayStudentDetails(studentRecord);
            
            // Update attendance data
            updateAttendanceData(studentRecord);
            
            // Update marks data
            updateMarksData(studentRecord);
            
            // Show dashboard
            document.getElementById('dashboard').style.display = 'block';
            document.body.scrollTop = 0; // Scroll to top
            document.documentElement.scrollTop = 0;
        }
        
        // Function to update attendance data in dashboard
        function updateAttendanceData(studentRecord) {
            if (!studentRecord.attendance || studentRecord.attendance.length === 0) {
                document.getElementById('presentCount').textContent = '0%';
                document.getElementById('presentDays').textContent = '0 days';
                document.getElementById('absentCount').textContent = '0%';
                document.getElementById('absentDays').textContent = '0 days';
                return;
            }
            
            // Calculate attendance statistics
            const totalDays = studentRecord.attendance.length;
            const presentDays = studentRecord.attendance.filter(a => a.status === 'present').length;
            const absentDays = totalDays - presentDays;
            
            const presentPercentage = totalDays > 0 ? Math.round((presentDays / totalDays) * 100) : 0;
            const absentPercentage = 100 - presentPercentage;
            
            document.getElementById('presentCount').textContent = `${presentPercentage}%`;
            document.getElementById('presentDays').textContent = `${presentDays} days`;
            document.getElementById('absentCount').textContent = `${absentPercentage}%`;
            document.getElementById('absentDays').textContent = `${absentDays} days`;
            
            // Render attendance chart
            renderAttendanceChart(studentRecord);
        }
        
        // Function to render attendance chart
        function renderAttendanceChart(studentRecord) {
            const ctx = document.getElementById('attendanceChart').getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.attendanceChartInstance) {
                window.attendanceChartInstance.destroy();
            }
            
            // Prepare data for the last 7 days
            const labels = [];
            const presentData = [];
            const absentData = [];
            
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                
                labels.push(date.toLocaleDateString('en-US', { weekday: 'short' }));
                
                // Check if attendance exists for this date
                const attendance = studentRecord.attendance.find(a => a.date === dateStr);
                if (attendance) {
                    if (attendance.status === 'present') {
                        presentData.push(1);
                        absentData.push(0);
                    } else {
                        presentData.push(0);
                        absentData.push(1);
                    }
                } else {
                    presentData.push(0);
                    absentData.push(0);
                }
            }
            
            // Create new chart
            window.attendanceChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Present',
                            data: presentData,
                            backgroundColor: 'rgba(40, 167, 69, 0.7)',
                            borderColor: 'rgba(40, 167, 69, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Absent',
                            data: absentData,
                            backgroundColor: 'rgba(220, 53, 69, 0.7)',
                            borderColor: 'rgba(220, 53, 69, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    return value === 1 ? 'Yes' : 'No';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Last 7 Days Attendance'
                        }
                    }
                }
            });
        }
        
        // Function to update marks data in dashboard
        function updateMarksData(studentRecord) {
            if (!studentRecord.marks || studentRecord.marks.length === 0) {
                document.getElementById('marksTableBody').innerHTML = '<tr><td colspan="6" class="no-data">No marks data available</td></tr>';
                
                // Clear performance chart
                const ctx = document.getElementById('performanceChart').getContext('2d');
                if (window.performanceChartInstance) {
                    window.performanceChartInstance.destroy();
                }
                
                return;
            }
            
            // Group marks by subject
            const subjectMarks = {};
            studentRecord.marks.forEach(mark => {
                if (!subjectMarks[mark.subject]) {
                    subjectMarks[mark.subject] = {
                        term1: '-',
                        term2: '-',
                        term3: '-',
                        overall: 0,
                        count: 0
                    };
                }
                
                // Assign marks to terms based on exam type
                if (mark.examType === 'Unit Test') {
                    subjectMarks[mark.subject].term1 = mark.marksObtained;
                } else if (mark.examType === 'Midterm') {
                    subjectMarks[mark.subject].term2 = mark.marksObtained;
                } else if (mark.examType === 'Final') {
                    subjectMarks[mark.subject].term3 = mark.marksObtained;
                }
                
                // Calculate overall
                if (mark.marksObtained !== '-') {
                    subjectMarks[mark.subject].overall += mark.marksObtained;
                    subjectMarks[mark.subject].count++;
                }
            });
            
            // Calculate overall average for each subject
            for (const subject in subjectMarks) {
                if (subjectMarks[subject].count > 0) {
                    subjectMarks[subject].overall = Math.round(subjectMarks[subject].overall / subjectMarks[subject].count);
                } else {
                    subjectMarks[subject].overall = '-';
                }
            }
            
            // Populate marks table
            let tableHTML = '';
            for (const subject in subjectMarks) {
                const marks = subjectMarks[subject];
                const grade = calculateGradeForMarks(marks.overall);
                
                tableHTML += `
                    <tr>
                        <td class="subject">${subject}</td>
                        <td>${marks.term1}</td>
                        <td>${marks.term2}</td>
                        <td>${marks.term3}</td>
                        <td>${marks.overall}</td>
                        <td class="grade">${grade}</td>
                    </tr>
                `;
            }
            
            document.getElementById('marksTableBody').innerHTML = tableHTML;
            
            // Render performance chart
            renderPerformanceChartForDashboard(subjectMarks);
        }
        
        // Function to render performance chart in dashboard
        function renderPerformanceChartForDashboard(subjectMarks) {
            const ctx = document.getElementById('performanceChart').getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.performanceChartInstance) {
                window.performanceChartInstance.destroy();
            }
            
            // Prepare data
            const labels = [];
            const data = [];
            
            for (const subject in subjectMarks) {
                labels.push(subject);
                data.push(subjectMarks[subject].overall);
            }
            
            // Create new chart
            window.performanceChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Subject Performance',
                        data: data,
                        backgroundColor: 'rgba(106, 13, 173, 0.2)',
                        borderColor: 'rgba(106, 13, 173, 0.8)',
                        pointBackgroundColor: 'rgba(106, 13, 173, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(106, 13, 173, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Subject-wise Performance'
                        }
                    }
                }
            });
        }
        
        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Render records on page load
            renderRecords();
            
            // Form submission
            document.getElementById('submit-application').addEventListener('click', function(e) {
                e.preventDefault();
                
                // Get form values
                const studentName = document.getElementById('student-name').value;
                const dob = document.getElementById('dob').value;
                const gender = document.getElementById('gender').value;
                const grade = document.getElementById('grade').value;
                const section = document.getElementById('section').value;
                const studentClass = document.getElementById('class').value;
                const fatherName = document.getElementById('father-name').value;
                const motherName = document.getElementById('mother-name').value;
                const parentEmail = document.getElementById('parent-email').value;
                const parentPhone = document.getElementById('parent-phone').value;
                const address = document.getElementById('address').value;
                const city = document.getElementById('city').value;
                const state = document.getElementById('state').value;
                const pincode = document.getElementById('pincode').value;
                const previousSchool = document.getElementById('previous-school').value;
                const reason = document.getElementById('reason').value;
                
                // Validate required fields
                if (!studentName || !dob || !gender || !grade || !section || !studentClass || 
                    !fatherName || !motherName || !parentEmail || !parentPhone || 
                    !address || !city || !state || !pincode || !reason) {
                    alert('Please fill in all required fields');
                    return;
                }
                
                // Create record object
                const record = {
                    studentName,
                    dob,
                    gender,
                    grade,
                    section,
                    class: studentClass,
                    fatherName,
                    motherName,
                    parentEmail,
                    parentPhone,
                    address,
                    city,
                    state,
                    pincode,
                    previousSchool,
                    reason
                };
                
                // Add record with duplicate check
                const result = addRecord(record);
                
                if (result.success) {
                    // Show success message
                    const successMessage = document.createElement('div');
                    successMessage.className = 'success-message';
                    successMessage.textContent = result.message;
                    successMessage.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: #28a745;
                        color: white;
                        padding: 15px 25px;
                        border-radius: 5px;
                        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                        z-index: 1000;
                        animation: slideIn 0.3s ease-out;
                    `;
                    
                    document.body.appendChild(successMessage);
                    
                    // Remove message after 3 seconds
                    setTimeout(() => {
                        successMessage.style.animation = 'slideOut 0.3s ease-out';
                        setTimeout(() => {
                            document.body.removeChild(successMessage);
                        }, 300);
                    }, 3000);
                    
                    // Reset form
                    document.getElementById('student-name').value = '';
                    document.getElementById('dob').value = '';
                    document.getElementById('gender').value = '';
                    document.getElementById('grade').value = '';
                    document.getElementById('section').value = '';
                    document.getElementById('class').value = '';
                    document.getElementById('father-name').value = '';
                    document.getElementById('mother-name').value = '';
                    document.getElementById('parent-email').value = '';
                    document.getElementById('parent-phone').value = '';
                    document.getElementById('address').value = '';
                    document.getElementById('city').value = '';
                    document.getElementById('state').value = '';
                    document.getElementById('pincode').value = '';
                    document.getElementById('previous-school').value = '';
                    document.getElementById('reason').value = '';
                    
                    // Scroll to records section
                    document.getElementById('records').scrollIntoView({ behavior: 'smooth' });
                    
                    // Refresh records table
                    renderRecords();
                } else {
                    // Show error message
                    const errorMessage = document.createElement('div');
                    errorMessage.className = 'error-message';
                    errorMessage.textContent = result.message;
                    errorMessage.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: #dc3545;
                        color: white;
                        padding: 15px 25px;
                        border-radius: 5px;
                        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                        z-index: 1000;
                        animation: slideIn 0.3s ease-out;
                    `;
                    
                    document.body.appendChild(errorMessage);
                    
                    // Remove message after 3 seconds
                    setTimeout(() => {
                        errorMessage.style.animation = 'slideOut 0.3s ease-out';
                        setTimeout(() => {
                            document.body.removeChild(errorMessage);
                        }, 300);
                    }, 3000);
                }
            });
            
            // Search functionality
            document.getElementById('search-input').addEventListener('input', function(e) {
                searchRecords(e.target.value);
            });
            
            // Export button
            document.getElementById('export-btn').addEventListener('click', exportRecords);
            
            // Clear button
            document.getElementById('clear-btn').addEventListener('click', function() {
                if (clearAllRecords()) {
                    renderRecords();
                }
            });
            
            // Edit and delete buttons (using event delegation)
            document.getElementById('records-body').addEventListener('click', function(e) {
                if (e.target.closest('.edit-btn')) {
                    const id = e.target.closest('.edit-btn').dataset.id;
                    populateEditForm(id);
                } else if (e.target.closest('.delete-btn')) {
                    const id = e.target.closest('.delete-btn').dataset.id;
                    if (confirm('Are you sure you want to delete this record?')) {
                        deleteRecord(id);
                        renderRecords();
                    }
                }
            });
            
            // Edit form submission
            document.getElementById('edit-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const id = document.getElementById('edit-id').value;
                const records = getRecords();
                const index = records.findIndex(r => r.id === id);
                
                if (index !== -1) {
                    // Create updated record object
                    const updatedRecord = {
                        id,
                        studentName: document.getElementById('edit-student-name').value,
                        dob: document.getElementById('edit-dob').value,
                        gender: document.getElementById('edit-gender').value,
                        grade: document.getElementById('edit-grade').value,
                        section: document.getElementById('edit-section').value,
                        class: document.getElementById('edit-class').value,
                        fatherName: document.getElementById('edit-father-name').value,
                        motherName: document.getElementById('edit-mother-name').value,
                        parentEmail: document.getElementById('edit-parent-email').value,
                        parentPhone: document.getElementById('edit-parent-phone').value,
                        address: document.getElementById('edit-address').value,
                        city: document.getElementById('edit-city').value,
                        state: document.getElementById('edit-state').value,
                        pincode: document.getElementById('edit-pincode').value,
                        previousSchool: document.getElementById('edit-previous-school').value,
                        reason: document.getElementById('edit-reason').value,
                        dateApplied: records[index].dateApplied,
                        attendance: records[index].attendance || [],
                        marks: records[index].marks || []
                    };
                    
                    // Update record with duplicate check
                    const result = updateRecord(updatedRecord);
                    
                    if (result.success) {
                        renderRecords();
                        document.getElementById('edit-modal').classList.remove('active');
                        
                        // Show success message
                        const successMessage = document.createElement('div');
                        successMessage.className = 'success-message';
                        successMessage.textContent = result.message;
                        successMessage.style.cssText = `
                            position: fixed;
                            top: 20px;
                            right: 20px;
                            background: #28a745;
                            color: white;
                            padding: 15px 25px;
                            border-radius: 5px;
                            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                            z-index: 1000;
                            animation: slideIn 0.3s ease-out;
                        `;
                        
                        document.body.appendChild(successMessage);
                        
                        // Remove message after 3 seconds
                        setTimeout(() => {
                            successMessage.style.animation = 'slideOut 0.3s ease-out';
                            setTimeout(() => {
                                document.body.removeChild(successMessage);
                            }, 300);
                        }, 3000);
                    } else {
                        // Show error message
                        const errorMessage = document.createElement('div');
                        errorMessage.className = 'error-message';
                        errorMessage.textContent = result.message;
                        errorMessage.style.cssText = `
                            position: fixed;
                            top: 20px;
                            right: 20px;
                            background: #dc3545;
                            color: white;
                            padding: 15px 25px;
                            border-radius: 5px;
                            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                            z-index: 1000;
                            animation: slideIn 0.3s ease-out;
                        `;
                        
                        document.body.appendChild(errorMessage);
                        
                        // Remove message after 3 seconds
                        setTimeout(() => {
                            errorMessage.style.animation = 'slideOut 0.3s ease-out';
                            setTimeout(() => {
                                document.body.removeChild(errorMessage);
                            }, 300);
                        }, 3000);
                    }
                }
            });
            
            // Close edit modal
            document.getElementById('close-edit-modal').addEventListener('click', function() {
                document.getElementById('edit-modal').classList.remove('active');
            });
            
            document.getElementById('cancel-edit').addEventListener('click', function() {
                document.getElementById('edit-modal').classList.remove('active');
            });
            
            // Attendance functionality
            document.getElementById('attendance-class-filter').addEventListener('change', populateStudentSelectors);
            
            document.getElementById('attendance-student').addEventListener('change', function(e) {
                if (e.target.value) {
                    renderAttendanceCalendar(e.target.value);
                } else {
                    document.getElementById('attendance-calendar-container').innerHTML = 
                        '<div class="no-data">Select a student to view attendance calendar</div>';
                }
            });
            
            document.getElementById('mark-attendance-btn').addEventListener('click', function() {
                const studentId = document.getElementById('attendance-student').value;
                const date = document.getElementById('attendance-date').value;
                const status = document.getElementById('attendance-status').value;
                
                if (!studentId) {
                    alert('Please select a student');
                    return;
                }
                
                if (!date) {
                    alert('Please select a date');
                    return;
                }
                
                if (addAttendanceRecord(studentId, date, status)) {
                    renderAttendanceCalendar(studentId);
                    
                    // Reset form
                    document.getElementById('attendance-date').value = '';
                    document.getElementById('attendance-status').value = 'present';
                    
                    // Show success message
                    const successMessage = document.createElement('div');
                    successMessage.className = 'success-message';
                    successMessage.textContent = 'Attendance marked successfully!';
                    successMessage.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: #28a745;
                        color: white;
                        padding: 15px 25px;
                        border-radius: 5px;
                        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                        z-index: 1000;
                        animation: slideIn 0.3s ease-out;
                    `;
                    
                    document.body.appendChild(successMessage);
                    
                    // Remove message after 3 seconds
                    setTimeout(() => {
                        successMessage.style.animation = 'slideOut 0.3s ease-out';
                        setTimeout(() => {
                            document.body.removeChild(successMessage);
                        }, 300);
                    }, 3000);
                }
            });
            
            // Marks functionality
            document.getElementById('marks-class-filter').addEventListener('change', populateStudentSelectors);
            
            document.getElementById('marks-student').addEventListener('change', function(e) {
                if (e.target.value) {
                    renderMarksTable(e.target.value);
                } else {
                    document.getElementById('marks-table-container').innerHTML = 
                        '<div class="no-data">Select a student to view marks</div>';
                    document.getElementById('performance-chart-container').innerHTML = 
                        '<div class="no-data">Select a student to view performance chart</div>';
                }
            });
            
            document.getElementById('add-marks-btn').addEventListener('click', function() {
                const studentId = document.getElementById('marks-student').value;
                const subject = document.getElementById('subject').value;
                const examType = document.getElementById('exam-type').value;
                const marksObtained = document.getElementById('marks-obtained').value;
                const maxMarks = document.getElementById('max-marks').value;
                
                if (!studentId) {
                    alert('Please select a student');
                    return;
                }
                
                if (!marksObtained || marksObtained < 0) {
                    alert('Please enter valid marks');
                    return;
                }
                
                if (parseInt(marksObtained) > parseInt(maxMarks)) {
                    alert('Marks obtained cannot exceed maximum marks');
                    return;
                }
                
                if (addMarksRecord(studentId, subject, examType, marksObtained, maxMarks)) {
                    renderMarksTable(studentId);
                    
                    // Reset form
                    document.getElementById('marks-obtained').value = '';
                    
                    // Show success message
                    const successMessage = document.createElement('div');
                    successMessage.className = 'success-message';
                    successMessage.textContent = 'Marks added successfully!';
                    successMessage.style.cssText = `
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: #28a745;
                        color: white;
                        padding: 15px 25px;
                        border-radius: 5px;
                        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                        z-index: 1000;
                        animation: slideIn 0.3s ease-out;
                    `;
                    
                    document.body.appendChild(successMessage);
                    
                    // Remove message after 3 seconds
                    setTimeout(() => {
                        successMessage.style.animation = 'slideOut 0.3s ease-out';
                        setTimeout(() => {
                            document.body.removeChild(successMessage);
                        }, 300);
                    }, 3000);
                }
            });
            
            // FAQ accordion
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', function() {
                    const faqItem = this.parentElement;
                    const isActive = faqItem.classList.contains('active');
                    
                    // Close all FAQ items
                    document.querySelectorAll('.faq-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Open clicked item if it wasn't active
                    if (!isActive) {
                        faqItem.classList.add('active');
                    }
                });
            });
            
            // Login modal functionality
            const loginModal = document.getElementById('loginModal');
            const modalCloseBtn = loginModal.querySelector('.close-modal');
            
            // Login option clicks
            document.querySelectorAll('.login-option').forEach(option => {
                option.addEventListener('click', function(e) {
                    e.preventDefault();
                    const loginType = this.dataset.type;
                    
                    // Show login modal
                    loginModal.style.display = 'flex';
                    
                    // Set active tab based on login type
                    document.querySelectorAll('.login-tab-btn').forEach(btn => {
                        btn.classList.remove('active');
                        if (btn.dataset.tab === loginType) {
                            btn.classList.add('active');
                        }
                    });
                    
                    // Show corresponding tab content
                    document.querySelectorAll('.login-tab-content').forEach(content => {
                        content.classList.remove('active');
                        if (content.id === `${loginType}-tab`) {
                            content.classList.add('active');
                        }
                    });
                    
                    // Update modal title
                    const titles = {
                        'parent': 'Parent Login',
                        'student': 'Student Login',
                        'admin': 'Admin Login'
                    };
                    document.getElementById('modalTitle').textContent = titles[loginType];
                });
            });
            
            // Close modal when clicking on close button
            modalCloseBtn.addEventListener('click', function() {
                loginModal.style.display = 'none';
            });
            
            // Close modal when clicking outside of it
            window.addEventListener('click', function(e) {
                if (e.target === loginModal) {
                    loginModal.style.display = 'none';
                }
            });
            
            // Login tab switching
            document.querySelectorAll('.login-tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    
                    // Update active tab button
                    document.querySelectorAll('.login-tab-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Update active tab content
                    document.querySelectorAll('.login-tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                    
                    // Update modal title
                    const titles = {
                        'parent': 'Parent Login',
                        'student': 'Student Login',
                        'admin': 'Admin Login'
                    };
                    document.getElementById('modalTitle').textContent = titles[tabId];
                });
            });
            
            // Student login form submission
            document.getElementById('studentForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const studentName = document.getElementById('studentName').value;
                const studentClass = document.getElementById('studentClass').value;
                const studentDOB = document.getElementById('studentDOB').value;
                
                // Find student record
                const studentRecord = findStudentRecord(studentName, studentClass);
                
                if (studentRecord && studentRecord.dob === studentDOB) {
                    // Login successful
                    loginModal.style.display = 'none';
                    updateDashboard(studentRecord);
                    
                    // Reset form
                    this.reset();
                } else {
                    // Login failed
                    alert('Invalid login credentials. Please check your name, class, and date of birth.');
                }
            });
            
            // Parent login form submission
            document.getElementById('parentForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const parentName = document.getElementById('parentName').value;
                const relationship = document.getElementById('relationship').value;
                const childName = document.getElementById('childName').value;
                const childClass = document.getElementById('childClass').value;
                const childSection = document.getElementById('childSection').value;
                
                // Find student record
                const studentRecord = findStudentRecord(childName, childClass, childSection);
                
                if (studentRecord) {
                    // Verify parent information
                    let parentVerified = false;
                    
                    if (relationship === 'father' && studentRecord.fatherName === parentName) {
                        parentVerified = true;
                    } else if (relationship === 'mother' && studentRecord.motherName === parentName) {
                        parentVerified = true;
                    } else if (relationship === 'guardian') {
                        // For guardians, we'll just verify that the student exists
                        parentVerified = true;
                    }
                    
                    if (parentVerified) {
                        // Login successful
                        loginModal.style.display = 'none';
                        updateDashboard(studentRecord);
                        
                        // Reset form
                        this.reset();
                    } else {
                        // Login failed
                        alert('Invalid parent information. Please check your name and relationship to the student.');
                    }
                } else {
                    // Login failed
                    alert('Student not found. Please check the student name, class, and section.');
                }
            });
            
            // Admin login form submission
            document.getElementById('adminForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = document.getElementById('adminUsername').value;
                const password = document.getElementById('adminPassword').value;
                
                // Simple admin authentication (in a real app, this would be server-side)
                if (username === 'admin' && password === 'admin123') {
                    // Login successful
                    loginModal.style.display = 'none';
                    
                    // Show admin dashboard or redirect to admin section
                    document.getElementById('records').scrollIntoView({ behavior: 'smooth' });
                    
                    // Reset form
                    this.reset();
                } else {
                    // Login failed
                    alert('Invalid admin credentials. Please try again.');
                }
            });
            
            // Logout button
            document.getElementById('logoutBtn').addEventListener('click', function() {
                document.getElementById('dashboard').style.display = 'none';
                document.getElementById('home').scrollIntoView({ behavior: 'smooth' });
            });
            
            // Mobile menu toggle
            document.querySelector('.menu-toggle').addEventListener('click', function() {
                const navLinks = document.querySelector('.nav-links');
                navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
            });
            
            // Navbar scroll effect
            window.addEventListener('scroll', function() {
                const navbar = document.getElementById('navbar');
                if (window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });
            
            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        // Account for fixed navbar height
                        const navbarHeight = document.querySelector('nav').offsetHeight;
                        const targetPosition = targetElement.offsetTop - navbarHeight;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile menu if open
                        const navLinks = document.querySelector('.nav-links');
                        if (navLinks.style.display === 'flex') {
                            navLinks.style.display = 'none';
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>